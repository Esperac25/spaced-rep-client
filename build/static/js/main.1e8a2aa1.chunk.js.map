{"version":3,"sources":["services/token-service.js","services/idle-service.js","config.js","services/auth-api-service.js","contexts/UserContext.js","components/ErrorBoundary/ErrorBoundary.js","components/Header/Header.js","components/PrivateRoute/PrivateRoute.js","components/PublicOnlyRoute/PublicOnlyRoute.js","components/Form/Form.js","components/Button/Button.js","components/RegistrationForm/RegistrationForm.js","routes/RegistrationRoute/RegistrationRoute.js","components/LoginForm/LoginForm.js","routes/LoginRoute/LoginRoute.js","contexts/LanguageContext.js","services/dashboard-api-service.js","components/WordList/WordList.js","components/Dashboard/Dashboard.js","routes/DashboardRoute/DashboardRoute.js","services/learning-api-service.js","components/Results/Correct.js","components/Results/Incorrect.js","components/LearningForm/LearningForm.js","routes/LearningRoute/LearningRoute.js","routes/NotFoundRoute/NotFoundRoute.js","components/App/App.js","serviceWorker.js","index.js"],"names":["_timeoutId","config","TokenService","saveAuthToken","token","window","localStorage","setItem","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","parseJwt","jwt","jwtDecode","parseAuthToken","authToken","_getMsUntilExpiry","payload","exp","Date","now","queueCallbackBeforeExpiry","callback","msUntilExpiry","setTimeout","clearCallbackBeforeExpiry","clearTimeout","AuthApiService","postUser","user","fetch","concat","method","headers","content-type","body","JSON","stringify","then","res","ok","json","e","Promise","reject","postLogin","_ref","username","password","err","refreshToken","authorization","_idleCallback","_notIdleEvents","IdleService","setIdleCallback","idleCallback","resetIdleTimer","ev","registerIdleTimerResets","forEach","event","document","addEventListener","unRegisterIdleResets","removeEventListener","UserContext","React","createContext","error","setError","clearError","setUser","processLogin","processLogout","UserProvider","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","console","setState","jwtPayload","id","user_id","name","sub","regiserIdleTimerResets","fetchRefreshToken","logoutBecauseIdle","idle","catch","state","inherits","createClass","key","value","_this2","react_default","a","createElement","Provider","children","Component","ErrorBoundary","hasError","info","log","Header","handleLogoutClick","context","className","Link","onClick","to","renderLogoutLink","renderLoginLink","contextType","PrivateRoute","component","objectWithoutProperties","Route","assign","render","componentProps","contexts_UserContext","Consumer","userContext","Redirect","pathname","from","location","PublicOnlyRoute","Label","cx","Input","forwardRef","_ref2","ref","type","Required","_ref3","Button","RegistrationForm","firstInput","createRef","handleSubmit","preventDefault","_ev$target","target","onRegistrationSuccess","current","focus","onSubmit","role","htmlFor","required","components_Button_Button","defaultProps","RegistrationRoute","handleRegistrationSuccess","history","push","components_RegistrationForm_RegistrationForm","LoginForm","onLoginSuccess","LoginRoute","handleLoginSuccess","_this$props","destination","components_LoginForm_LoginForm","LanguageContext","language","words","head","processLanguage","processNextWord","LanguageProvider","dashboardApiService","getLanguage","WordList","word","_props$word","correct_count","incorrect_count","original","Dashboard","data","_this3","total_score","map","i","DashboardRoute","LanguageContext_LanguageProvider","components_Dashboard_Dashboard","learningApiService","getLanguageHead","makeGuess","guess","Correct","Fragment","Incorrect","LearningForm","languageContext","useContext","_useState","useState","_useState2","slicedToArray","setHead","_useState3","_useState4","correct","setCorrect","_useState5","_useState6","view","setView","_useState7","_useState8","input","setInput","_useState9","_useState10","result","setResult","questionInput","useRef","useEffect","showQuestion","totalScore","response","newHead","nextWord","wordCorrectCount","wordIncorrectCount","question","answer","isCorrect","guessWord","LearningRoute","LearningForm_LearningForm","NotFoundRoute","App","components_Header_Header","Switch","exact","path","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","BrowserRouter","UserContext_UserProvider","ErrorBoundary_ErrorBoundary","App_App_App","getElementById","URL","process","href","origin","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1e8a2aa1.chunk.js","sourcesContent":["import jwtDecode from 'jwt-decode'\nimport config from '../config'\n\nlet _timeoutId\nconst _TEN_SECONDS_IN_MS = 10000\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token)\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY)\n  },\n  clearAuthToken() {\n    window.localStorage.removeItem(config.TOKEN_KEY)\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken()\n  },\n  parseJwt(jwt) {\n    return jwtDecode(jwt)\n  },\n  parseAuthToken() {\n    const authToken = TokenService.getAuthToken()\n    if (authToken)\n      return TokenService.parseJwt(authToken)\n    else\n      return undefined\n  },\n  _getMsUntilExpiry(payload) {\n    return (payload.exp * 1000) - Date.now()\n  },\n  queueCallbackBeforeExpiry(callback) {\n    const msUntilExpiry = TokenService._getMsUntilExpiry(\n      TokenService.parseAuthToken()\n    )\n    _timeoutId = setTimeout(callback, msUntilExpiry - _TEN_SECONDS_IN_MS)\n  },\n  clearCallbackBeforeExpiry() {\n    clearTimeout(_timeoutId)\n  },\n}\n\nexport default TokenService\n","\nlet _timeoutId\nlet _idleCallback = null\nlet _notIdleEvents = [\n  'mousedown',\n  'mousemove',\n  'keypress',\n  'scroll',\n  'touchstart',\n]\nconst _FIVE_MINUTES_IN_MS = 5 * 60 * 1000\n\nconst IdleService = {\n  setIdleCallback(idleCallback) {\n    _idleCallback = idleCallback\n  },\n  resetIdleTimer(ev) {\n    clearTimeout(_timeoutId)\n    _timeoutId = setTimeout(_idleCallback, _FIVE_MINUTES_IN_MS)\n  },\n  registerIdleTimerResets() {\n    _notIdleEvents.forEach(event =>\n      document.addEventListener(\n        event,\n        IdleService.resetIdleTimer,\n        true,\n      )\n    )\n  },\n  unRegisterIdleResets() {\n    clearTimeout(_timeoutId)\n    _notIdleEvents.forEach(event =>\n      document.removeEventListener(\n        event,\n        IdleService.resetIdleTimer,\n        true,\n      )\n    )\n  },\n}\n\nexport default IdleService\n","export default {\n  API_ENDPOINT: `https://spaced-rep-api-esperanza.herokuapp.com/api`,\n  TOKEN_KEY: 'spaced-rep-auth-token',\n}\n","import config from '../config'\nimport TokenService from './token-service'\n\nconst AuthApiService = {\n  postUser(user) {\n    return fetch(`${config.API_ENDPOINT}/user`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n  postLogin({ username, password }) {\n    return fetch(`${config.API_ENDPOINT}/auth/token`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(err => Promise.reject(err))\n          : res.json()\n      )\n  },\n  refreshToken() {\n    return fetch(`${config.API_ENDPOINT}/auth/token`, {\n      method: 'PUT',\n      headers: {\n        'authorization': `Bearer ${TokenService.getAuthToken()}`,\n      },\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n}\n\nexport default AuthApiService\n","import React, { Component } from 'react'\nimport AuthApiService from '../services/auth-api-service'\nimport TokenService from '../services/token-service'\nimport IdleService from '../services/idle-service'\n\nconst UserContext = React.createContext({\n  user: {},\n  error: null,\n  setError: () => {},\n  clearError: () => {},\n  setUser: () => {},\n  processLogin: () => {},\n  processLogout: () => {},\n})\n\nexport default UserContext\n\nexport class UserProvider extends Component {\n  constructor(props) {\n    super(props)\n    const state = { user: {}, error: null }\n\n    const jwtPayload = TokenService.parseAuthToken()\n\n    if (jwtPayload)\n      state.user = {\n        id: jwtPayload.user_id,\n        name: jwtPayload.name,\n        username: jwtPayload.sub,\n      }\n\n    this.state = state;\n    IdleService.setIdleCallback(this.logoutBecauseIdle)\n  }\n\n  componentDidMount() {\n    if (TokenService.hasAuthToken()) {\n      IdleService.registerIdleTimerResets()\n      TokenService.queueCallbackBeforeExpiry(() => {\n        this.fetchRefreshToken()\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    IdleService.unRegisterIdleResets()\n    TokenService.clearCallbackBeforeExpiry()\n  }\n\n  setError = error => {\n    console.error(error)\n    this.setState({ error })\n  }\n\n  clearError = () => {\n    this.setState({ error: null })\n  }\n\n  setUser = user => {\n    this.setState({ user })\n  }\n\n  processLogin = authToken => {\n    TokenService.saveAuthToken(authToken)\n    const jwtPayload = TokenService.parseAuthToken()\n    this.setUser({\n      id: jwtPayload.user_id,\n      name: jwtPayload.name,\n      username: jwtPayload.sub,\n    })\n    IdleService.regiserIdleTimerResets()\n    TokenService.queueCallbackBeforeExpiry(() => {\n      this.fetchRefreshToken()\n    })\n  }\n\n  processLogout = () => {\n    TokenService.clearAuthToken()\n    TokenService.clearCallbackBeforeExpiry()\n    IdleService.unRegisterIdleResets()\n    this.setUser({})\n  }\n\n  logoutBecauseIdle = () => {\n    TokenService.clearAuthToken()\n    TokenService.clearCallbackBeforeExpiry()\n    IdleService.unRegisterIdleResets()\n    this.setUser({ idle: true })\n  }\n\n  fetchRefreshToken = () => {\n    AuthApiService.refreshToken()\n      .then(res => {\n        TokenService.saveAuthToken(res.authToken)\n        TokenService.queueCallbackBeforeExpiry(() => {\n          this.fetchRefreshToken()\n        })\n      })\n      .catch(err => {\n        this.setError(err)\n      })\n  }\n\n  render() {\n    const value = {\n      user: this.state.user,\n      error: this.state.error,\n      setError: this.setError,\n      clearError: this.clearError,\n      setUser: this.setUser,\n      processLogin: this.processLogin,\n      processLogout: this.processLogout,\n    }\n    return (\n      <UserContext.Provider value={value}>\n        {this.props.children}\n      </UserContext.Provider>\n    )\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class ErrorBoundary extends Component {\n    constructor(props){\n        super(props)\n        this.state = { \n            hasError: false\n        }\n    }\n\n    static getDerivedStateFromError(error){\n        return { hasError: true }\n    }\n\n    componentDidCatch(error, info){\n        console.log(error, info)\n    }\n\n    render(){\n        if(this.state.hasError){\n            return <h1>Error, Something went wrong.</h1>\n        }\n\n        return this.props.children;\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport TokenService from '../../services/token-service';\nimport UserContext from '../../contexts/UserContext';\nimport './Header.css';\n\nclass Header extends Component {\n  static contextType = UserContext;\n\n  handleLogoutClick = () => {\n    this.context.processLogout();\n  };\n\n  renderLogoutLink() {\n    return (\n      <nav>\n        <span className='user'>{this.context.user.name}</span>\n\n        <Link onClick={this.handleLogoutClick} to=\"/login\">\n          Logout\n        </Link>\n      </nav>\n    );\n  }\n\n  renderLoginLink() {\n    return (\n      <nav>\n        <Link to=\"/login\">Login</Link> <Link to=\"/register\">Sign up</Link>\n      </nav>\n    );\n  }\n\n  render() {\n    return (\n      <header>\n        <div className='navbar'>\n          {TokenService.hasAuthToken()\n            ? this.renderLogoutLink()\n            : this.renderLoginLink()}\n          <h1 className='header-logo'>\n            <Link to=\"/\">Espace-it</Link>\n          </h1>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport UserContext from '../../contexts/UserContext'\n\nexport default function PrivateRoute({ component, ...props }) {\n  const Component = component\n  return (\n    <Route\n      {...props}\n      render={componentProps => (\n        <UserContext.Consumer>\n          {userContext =>\n            !!userContext.user.id\n              ? <Component {...componentProps} />\n              : (\n                <Redirect\n                  to={{\n                    pathname: userContext.user.idle ? '/login' : '/register',\n                    state: { from: componentProps.location },\n                  }}\n                />\n              )\n          }\n        </UserContext.Consumer>\n      )}\n    />\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport UserContext from '../../contexts/UserContext'\n\nexport default function PublicOnlyRoute({ component, ...props }) {\n  const Component = component\n  return (\n    <Route\n      {...props}\n      render={componentProps => (\n        <UserContext.Consumer>\n          {userContext =>\n            !!userContext.user.id\n              ? <Redirect to={'/'} />\n              : <Component {...componentProps} />\n          }\n        </UserContext.Consumer>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport cx from 'classnames';\nimport './Form.css';\n\nexport function Label({ className, ...props }) {\n  return <label className={cx('Label', className)} {...props} />;\n}\n\nexport const Input = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <input\n      className={cx('Input', className)}\n      type=\"text\"\n      ref={ref}\n      {...props}\n    />\n  );\n});\n\nexport function Required({ className, ...props }) {\n  return (\n    <span className={cx('Required', className)} {...props}>\n      &#42;\n    </span>\n  );\n}\n\nexport function Textarea({ className, ...props }) {\n  return <textarea className={cx('Textarea', className)} {...props} />;\n}","import React from 'react'\nimport cx from 'classnames'\nimport './Button.css'\n\nconst Button = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <button className={cx('Button', className)} ref={ref} {...props} />\n  )\n})\n\nexport default Button\n\n\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Input, Required, Label } from '../Form/Form'\nimport AuthApiService from '../../services/auth-api-service'\nimport Button from '../Button/Button'\nimport './RegistrationForm.css'\n\nclass RegistrationForm extends Component {\n  static defaultProps = {\n    onRegistrationSuccess: () => { }\n  }\n\n  state = { error: null }\n\n  firstInput = React.createRef()\n\n  handleSubmit = ev => {\n    ev.preventDefault()\n    const { name, username, password } = ev.target\n    AuthApiService.postUser({\n      name: name.value,\n      username: username.value,\n      password: password.value,\n    })\n      .then(user => {\n        name.value = ''\n        username.value = ''\n        password.value = ''\n        this.props.onRegistrationSuccess()\n      })\n      .catch(res => {\n        this.setState({ error: res.error })\n      })\n  }\n\n  componentDidMount() {\n    this.firstInput.current.focus()\n  }\n\n  render() {\n    const { error } = this.state\n    return (\n      <form className='box'\n        onSubmit={this.handleSubmit}\n      >\n        <div role='alert'>\n          {error && <p>{error}</p>}\n        </div>\n        <div>\n          <Label htmlFor='registration-name-input'>\n            Name<Required />\n          </Label>\n          <br></br>\n          <Input\n            ref={this.firstInput}\n            id='registration-name-input'\n            name='name'\n            required\n          />\n        </div>\n        <div>\n          <Label htmlFor='registration-username-input'>\n            Username<Required />\n          </Label>\n          <br></br>\n          <Input\n            id='registration-username-input'\n            name='username'\n            required\n          />\n        </div>\n        <div>\n          <Label htmlFor='registration-password-input'>\n            Password<Required />\n          </Label>\n          <br></br>\n          <Input\n            id='registration-password-input'\n            name='password'\n            type='password'\n            required\n          />\n        </div>\n        <footer>\n          <Button type='submit'>\n            Sign up\n          </Button>\n          {' '}\n          <Link className='link' to='/login'>Already have an account?</Link>\n        </footer>\n      </form>\n    )\n  }\n}\n\nexport default RegistrationForm\n","import React, { Component } from 'react'\nimport RegistrationForm from '../../components/RegistrationForm/RegistrationForm'\n\nclass RegistrationRoute extends Component {\n  static defaultProps = {\n    history: {\n      push: () => {},\n    },\n  }\n\n  handleRegistrationSuccess = () => {\n    const { history } = this.props\n    history.push('/login')\n  }\n\n  render() {\n    return (\n      <section className='center'>\n        <p>\n          Practice learning French with the spaced repetition revision technique.\n        </p>\n        <h2>Sign up</h2>\n        <RegistrationForm\n          onRegistrationSuccess={this.handleRegistrationSuccess}\n        />\n      </section>\n    );\n  }\n}\n\nexport default RegistrationRoute\n","import React, { Component } from 'react';\nimport { Input, Label } from '../Form/Form';\nimport AuthApiService from '../../services/auth-api-service';\nimport UserContext from '../../contexts/UserContext';\nimport Button from '../Button/Button';\nimport './LoginForm.css';\n\nclass LoginForm extends Component {\n  static defaultProps = {\n    onLoginSuccess: () => {}\n  };\n\n  static contextType = UserContext;\n\n  state = { error: null };\n\n  firstInput = React.createRef();\n\n  handleSubmit = ev => {\n    ev.preventDefault();\n    const { username, password } = ev.target;\n\n    this.setState({ error: null });\n\n    AuthApiService.postLogin({\n      username: username.value,\n      password: password.value\n    })\n      .then(res => {\n        username.value = '';\n        password.value = '';\n        this.context.processLogin(res.authToken);\n        this.props.onLoginSuccess();\n      })\n      .catch(res => {\n        this.setState({ error: res.error });\n      });\n  };\n\n  componentDidMount() {\n    this.firstInput.current.focus();\n  }\n\n  render() {\n    const { error } = this.state;\n    return (\n      <form className='box' onSubmit={this.handleSubmit}>\n        <div role=\"alert\">{error && <p>{error}</p>}</div>\n        <div>\n          <Label htmlFor=\"login-username-input\">Username</Label>\n          <br></br>\n          <Input\n            ref={this.firstInput}\n            id=\"login-username-input\"\n            name=\"username\"\n            required\n          />\n        </div>\n        <div>\n          <Label htmlFor=\"login-password-input\">Password</Label>\n          <br></br>\n          <Input\n            id=\"login-password-input\"\n            name=\"password\"\n            type=\"password\"\n            required\n          />\n        </div>\n        <footer>\n          <Button type=\"submit\">Login</Button>\n        </footer>\n      </form>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react'\nimport LoginForm from '../../components/LoginForm/LoginForm'\n\nclass LoginRoute extends Component {\n  static defaultProps = {\n    location: {},\n    history: {\n      push: () => { },\n    },\n  }\n\n  handleLoginSuccess = () => {\n    const { location, history } = this.props\n    const destination = (location.state || {}).from || '/'\n    history.push(destination)\n  }\n\n  render() {\n    return (\n      <section className='center'>\n        <h2>Login</h2>\n        <LoginForm\n          onLoginSuccess={this.handleLoginSuccess}\n        />\n      </section>\n    );\n  }\n}\n\nexport default LoginRoute\n","import React, { Component } from 'react';\n\nconst LanguageContext = React.createContext({\n  language: {},\n  words: [],\n  head: null,\n  processLanguage: () => {},\n  processNextWord: () => {},\n  setError: () => {},\n  clearError: () => {}\n});\n\nexport default LanguageContext;\n\nexport class LanguageProvider extends Component {\n  constructor(props) {\n    super(props);\n    const state = { language: {}, words: [], head: null };\n    this.state = state;\n  }\n\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n\n  setError = error => {\n    console.error(error);\n    this.setState({ error });\n  };\n\n  clearError = () => {\n    this.setState({ error: null });\n  };\n\n  processLanguage = language => {\n    this.setState({ language: language.language, words: language.words });\n  };\n\n  processNextWord = head => {\n    this.setState({ head: head });\n  };\n\n  render() {\n    const value = {\n      language: this.state.language,\n      words: this.state.words,\n      head: this.state.head,\n      error: this.state.error,\n      setError: this.setError,\n      clearError: this.clearError,\n      processLanguage: this.processLanguage,\n      processNextWord: this.processNextWord,\n      processLogout: this.processLogout\n    };\n    return (\n      <LanguageContext.Provider value={value}>\n        {this.props.children}\n      </LanguageContext.Provider>\n    );\n  }\n}","import config from '../config';\nimport TokenService from './token-service';\n\n\nconst dashboardApiService = {\n    getLanguage(){\n        return fetch(`${config.API_ENDPOINT}/language`,{\n            method: 'GET',\n            headers: {\n                authorization: `Bearer ${TokenService.getAuthToken()}`\n            }\n        }).then(res => \n            !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n        );\n    }\n};\n\nexport default dashboardApiService;","import React from 'react';\n\nexport function WordList(props) {\n  const { word } = props;\n  const { correct_count, incorrect_count } = props.word;\n  return (\n    <li>\n      <h4 className='item'>{word.original}</h4>\n      <br></br>\n      <span className='item-span'>\n        <div>correct: {correct_count}</div>\n        <div>incorrect: {incorrect_count}</div>\n      </span>\n    </li>\n  );\n}\n\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport UserContext from '../../contexts/UserContext';\nimport LanguageContext from '../../contexts/LanguageContext';\nimport dashboardApiService from '../../services/dashboard-api-service';\nimport { WordList } from '../WordList/WordList';\nimport Button from '../Button/Button';\nimport './Dashboard.css';\n\nclass Dashboard extends Component {\n  state = {\n    error: null,\n    language: null\n  };\n\n  static contextType = LanguageContext;\n\n  componentDidMount() {\n    dashboardApiService\n      .getLanguage()\n      .then(data => {\n        this.context.processLanguage(data);\n      })\n      .catch(res => this.setState({ error: res.error }));\n  }\n\n  render() {\n    \n    const { words } = this.context;\n    return (\n      <UserContext.Consumer>\n        { value => {\n          return (\n            <div className='center'>\n              <h2>{this.context.language.name}</h2>\n              <p>Total correct answers: {this.context.language.total_score}</p>\n\n              <section className='box'>\n                <h3 className='larger'>Word List</h3>\n                <ul className=\"word-list\">\n                  {words.map((word, i) => (\n                    <WordList key={i} word={word} />\n                  ))}\n                </ul>\n                <Link className='adjust' to=\"/learn\">\n                  <Button>Start</Button>\n                </Link>\n              </section>\n            </div>\n          );\n        }}\n      </UserContext.Consumer>\n    );\n  }\n}\n\nexport default Dashboard;","import React, { Component } from 'react';\nimport Dashboard from '../../components/Dashboard/Dashboard';\nimport { LanguageProvider } from '../../contexts/LanguageContext';\n\nclass DashboardRoute extends Component {\n  render() {\n    return (\n      <LanguageProvider>\n        <section>\n          <Dashboard/>\n        </section>\n      </LanguageProvider>\n    );\n  }\n}\n\nexport default DashboardRoute\n","import config from '../config';\nimport TokenService from './token-service';\n\nconst learningApiService = {\n    getLanguageHead(){\n        return fetch(`${config.API_ENDPOINT}/language/head`, {\n            method: 'GET',\n            headers: {authorization: `Bearer ${TokenService.getAuthToken()}`}\n        }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)): res.json())\n    },\n    makeGuess(guess){\n        return fetch(`${config.API_ENDPOINT}/language/guess`, {\n            method: 'POST',\n            headers: {\n                authorization: `Bearer ${TokenService.getAuthToken()}`,\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({ guess })\n        }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json())\n    }\n}\n\nexport default learningApiService;\n","import React from 'react';\n\nexport default function Correct() {\n  return <>{`You were correct!`}</>;\n}","import React from 'react';\n\nexport default function Incorrect() {\n  return <>{ `Incorrect, try again!` }</>;\n}","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport { Input } from '../Form/Form';\nimport Button from '../Button/Button';\nimport learningApiService from '../../services/learning-api-service';\nimport LanguageContext from '../../contexts/LanguageContext';\nimport Correct from '../Results/Correct';\nimport Incorrect from '../Results/Incorrect';\nimport './LearningForm.css';\n\n\nexport default function LearningForm() {\n  const languageContext = useContext(LanguageContext);\n  const [head, setHead] = useState(null);\n  const [correct, setCorrect] = useState(null);\n  const [view, setView] = useState('question');\n  const [input, setInput] = useState(null);\n  const [result, setResult] = useState({});\n  const questionInput = useRef(null);\n\n  useEffect(() => {\n    learningApiService.getLanguageHead().then(word => {\n      setHead(word);\n      languageContext.processNextWord(word);\n    });\n  }, []);\n\n  function guessWord(e) {\n    e.preventDefault();\n\n    learningApiService.makeGuess(questionInput.current.value).then(response => {\n      const newHead = {\n        nextWord: response.nextWord,\n        totalScore: response.totalScore,\n        wordCorrectCount: response.wordCorrectCount,\n        wordIncorrectCount: response.wordIncorrectCount\n      };\n      setResult({ question: head.nextWord, answer: response.answer });\n      setInput(questionInput.current.value);\n      setCorrect(response.isCorrect);\n      setHead(newHead);\n      setView('answer');\n    });\n \n  }\n\n  const showResults = () => {\n    return (\n      <React.Fragment>\n        <div className='center'>\n          <p>Your total score is: {head.totalScore}</p>\n        </div>\n        <section>\n        <h2 className='center'>\n          {!correct\n            ? <Incorrect />\n            : <Correct />}\n        </h2>\n        <div className='box'>\n          <p>\n            The correct translation for {result.question} was {result.answer}{' '}\n            and you chose {input}!\n          </p> \n          </div>\n        <Button onClick={showQuestion} type=\"submit\">\n          <p className='button-2'>Next</p>\n        </Button>\n        </section>\n      </React.Fragment>\n    );\n  };\n\n  const showQuestion = () => {\n    setView('question');\n  };\n\n  return (\n    <React.Fragment>\n      {head !== null && view === 'question' && (\n        <React.Fragment>\n          <header>\n            <h2>Translate the word:</h2>\n\n            <p>{`Your total score is: ${head.totalScore}`}</p>\n          </header>\n          <form className='box' onSubmit={e => guessWord(e)}>\n          <span className='word'>{head.nextWord}</span>\n          <br></br>\n            <div>\n              <label htmlFor=\"learn-guess-input\">\n                What's the translation for this word?\n              </label>\n              <br></br>\n              <Input\n                ref={questionInput}\n                id=\"learn-guess-input\"\n                name=\"question\"\n                required\n              />\n            </div>\n            <Button type=\"submit\">Submit</Button>\n          </form>\n        </React.Fragment>\n      )}\n      {view === 'answer' && head !== null && showResults()}\n      {head === null && 'Loading'}\n    </React.Fragment>\n  );\n}","import React, { Component } from 'react'\nimport LearningForm from '../../components/LearningForm/LearningForm';\n\nclass LearningRoute extends Component {\n  render() {\n    return (\n      <section>\n        <LearningForm/>\n      </section>\n    );\n  }\n}\n\nexport default LearningRoute;\n","import React, { Component } from 'react'\n\nclass NotFoundRoute extends Component {\n  render() {\n    return (\n      <section>\n        <h2>404 - Page not found</h2>\n        <p>Try going back to your previous page.</p>\n      </section>\n    );\n  }\n}\n\nexport default NotFoundRoute\n","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Header from '../Header/Header'\nimport PrivateRoute from '../PrivateRoute/PrivateRoute'\nimport PublicOnlyRoute from '../PublicOnlyRoute/PublicOnlyRoute'\nimport RegistrationRoute from '../../routes/RegistrationRoute/RegistrationRoute'\nimport LoginRoute from '../../routes/LoginRoute/LoginRoute'\nimport DashboardRoute from '../../routes/DashboardRoute/DashboardRoute'\nimport LearningRoute from '../../routes/LearningRoute/LearningRoute'\nimport NotFoundRoute from '../../routes/NotFoundRoute/NotFoundRoute'\nimport './App.css'\n\nexport default class App extends Component {\n  state = { hasError: false }\n\n  static getDerivedStateFromError(error) {\n    console.error(error)\n    return { hasError: true }\n  }\n\n  render() {\n    const { hasError } = this.state\n    return (\n      <div className='App'>\n        <Header />\n        <main>\n          {hasError && (\n            <p>There was an error! Oh no!</p>\n          )}\n          <Switch>\n            <PrivateRoute\n              exact\n              path={ '/' }\n              component={DashboardRoute}\n            />\n            <PrivateRoute\n              path={'/learn'}\n              component={LearningRoute}\n            />\n            <PublicOnlyRoute\n              path={'/register'}\n              component={RegistrationRoute}\n            />\n            <PublicOnlyRoute\n              path={'/login'}\n              component={LoginRoute}\n            />\n            <Route\n              component={NotFoundRoute}\n            />\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'unfetch/polyfill'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { UserProvider } from './contexts/UserContext'\nimport ErrorBoundary from './components/ErrorBoundary/ErrorBoundary';\nimport App from './components/App/App'\nimport './setup-icons'\nimport './index.css'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <ErrorBoundary>\n        <App />\n      </ErrorBoundary>\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById('root'),\n)\n\nserviceWorker.register()\n"],"sourceRoot":""}